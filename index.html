<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!doctype html&gt;</p>
<p class="p1">&lt;html lang="de"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="utf-8" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;Teilchenmodell – Temperatur 8°C → 23°C&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>:root { --sim-size: 1080px; } /* Simulationsgröße (quadratisch) */</p>
<p class="p1"><span class="Apple-converted-space">    </span>body { margin: 0; background: #fff; color: #000; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.sim-wrap { position: relative; width: var(--sim-size); height: var(--sim-size); background: #fff; margin: 24px auto; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.temp { position: absolute; right: 0; top: -1cm; font-size: 16px; line-height: 1; white-space: nowrap; user-select: none; pointer-events: none; color: #000; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>canvas { width: 100%; height: 100%; display: block; background: #fff; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>@media (max-width: 1200px){ :root{ --sim-size: min(90vw, 1080px);} }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div class="sim-wrap" id="simRoot"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;div class="temp" id="temp"&gt;Temperatur: 8.0 °C&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;canvas id="sim" aria-label="Teilchenmodell"&gt;&lt;/canvas&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>// Parameter</p>
<p class="p1"><span class="Apple-converted-space">    </span>const N=30, DURATION_S=60, START_C=8.0, END_C=23.0;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const START_K=START_C+273.15, END_K=END_C+273.15;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const BASE_SPEED=0.42, PARTICLE_RADIUS=0.018; <span class="Apple-converted-space">  </span>// Box = 1×1</p>
<p class="p1"><span class="Apple-converted-space">    </span>const SETTLE_TIME=1.0, MIN_START_SCALE=0.02, DT=0.005;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const COLOR="#ff6aa2", BOX_SIZE=1.0;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const canvas=document.getElementById("sim");</p>
<p class="p1"><span class="Apple-converted-space">    </span>const tempEl=document.getElementById("temp");</p>
<p class="p1"><span class="Apple-converted-space">    </span>const wrap=document.getElementById("simRoot");</p>
<p class="p1"><span class="Apple-converted-space">    </span>const ctx=canvas.getContext("2d");</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function resizeCanvas(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>const dpr=Math.max(1, window.devicePixelRatio||1);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const w=wrap.clientWidth, h=wrap.clientHeight;</p>
<p class="p1"><span class="Apple-converted-space">      </span>canvas.width=Math.round(w*dpr); canvas.height=Math.round(h*dpr);</p>
<p class="p1"><span class="Apple-converted-space">      </span>ctx.setTransform(dpr,0,0,dpr,0,0);</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>resizeCanvas(); window.addEventListener("resize", resizeCanvas, {passive:true});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>const pos=new Array(N), vel=new Array(N);</p>
<p class="p1"><span class="Apple-converted-space">    </span>const rand=(a,b)=&gt;a+Math.random()*(b-a), clamp=(x,a,b)=&gt;x&lt;a?a:(x&gt;b?b:x);</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>function initPositions(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>const r=PARTICLE_RADIUS;</p>
<p class="p1"><span class="Apple-converted-space">      </span>for(let i=0;i&lt;N;i++){</p>
<p class="p1"><span class="Apple-converted-space">        </span>let ok=false;</p>
<p class="p1"><span class="Apple-converted-space">        </span>for(let t=0;t&lt;30000;t++){</p>
<p class="p1"><span class="Apple-converted-space">          </span>const x=rand(r,BOX_SIZE-r), y=rand(r,BOX_SIZE-r);</p>
<p class="p1"><span class="Apple-converted-space">          </span>let valid=true;</p>
<p class="p1"><span class="Apple-converted-space">          </span>for(let j=0;j&lt;i;j++){</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dx=x-pos[j].x, dy=y-pos[j].y;</p>
<p class="p1"><span class="Apple-converted-space">            </span>if(Math.hypot(dx,dy)&lt;2*r*1.12){ valid=false; break; }</p>
<p class="p1"><span class="Apple-converted-space">          </span>}</p>
<p class="p1"><span class="Apple-converted-space">          </span>if(valid){ pos[i]={x,y}; ok=true; break; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>if(!ok) throw new Error("Konnte Partikel nicht überlappungsfrei platzieren.");</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>function initVelocities(){</p>
<p class="p1"><span class="Apple-converted-space">      </span>for(let i=0;i&lt;N;i++){</p>
<p class="p1"><span class="Apple-converted-space">        </span>const a=Math.random()*2*Math.PI;</p>
<p class="p1"><span class="Apple-converted-space">        </span>vel[i]={x:Math.cos(a)*BASE_SPEED,y:Math.sin(a)*BASE_SPEED};</p>
<p class="p1"><span class="Apple-converted-space">      </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>initPositions(); initVe</p>
</body>
</html>
